---
title: "London Cycle Hires and Weather"
output: html_document
---
I'm interested in investigating the usage of London's cycle hire scheme, and in particular how it's affected by the weather.

I'm tying together two datasets: one that I collected myself, of historical cycle hire availability; and one of weather. I'm doing an analysis from July 2013 to June 2014.

The cycle hire dataset has a granularity of ten minutes. That's ~50000 observations per docking station for the year, so I'm choosing to focus on four docking stations only (the ones near my office that I most often use when commuting).

The weather dataset has a granularity of one day. The weather data is taken from [Weather Underground](http://www.wunderground.com/history/airport/EGLC/2013/7/1/CustomHistory.html?dayend=30&monthend=6&yearend=2014&req_city=&req_state=&req_statename=&reqdb.zip=&reqdb.magic=&reqdb.wmo=), using the weather station at London City Airport.

```{r}
# First we put the weather data in a nice format.
weather <- read.csv('weather.csv')
names(weather) <- c('date', 't.max', 't', 't.min', 'dew.max', 'dew', 'dew.min',
                    'hum.max', 'hum', 'hum.min', 'pres.max', 'pres', 
                    'pres.min', 'vis.max', 'vis', 'vis.min', 'wind.max',
                    'wind', 'gust', 'precip.mm', 'cloud', 'events', 'wind.dir')

weather$date <- as.Date(weather$date)

# The events are Fog, Rain, Snow, Hail and Thunderstorm. Other than rain, they
# all have fewer than 20 days, which isn't really enough to look at.
weather$rain <- grepl('Rain', weather$events)
```